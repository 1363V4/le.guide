{{ include.html | escape }}

{% assign headings = include.html | strip | split: '<h' %}

{%- for heading in headings -%}
  {%- if forloop.first -%}{%- continue -%}{%- endif -%}
  {% assign level = heading | slice: 0, 1 %}
  {% assign text = heading | split: '>' | last | split: '</h' | first %}
  
  {%- capture toc_line -%}{{- level | times: '--' -}} {{ text }}{%- endcapture -%}
  {{ toc_line }}
  <p>test</p>
{%- endfor -%}
